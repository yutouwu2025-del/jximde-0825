import{_ as C}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css               *//* empty css                     *//* empty css                    *//* empty css                 */import{u as P,r as v,a as R,o as A,c as _,b as f,d as B,e as r,f as a,w as t,E as N,g as q,F as K,h as M,i as z,j as D,k as T,l as w,m as j,n,p as $,q as G,t as c,s as H,v as p}from"./index-BxcNgWEf.js";const J={class:"login-container"},O={class:"login-card"},Q={class:"login-options"},W={class:"demo-accounts"},X={class:"account-list"},Y={__name:"Login",setup(Z){const b=z(),y=P(),m=v(null),d=v(!1),s=R({username:"",password:"",remember:!1}),k={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}]},V=[{username:"researcher1",password:"123456",role:"科研人员"},{username:"manager1",password:"123456",role:"论文管理员"},{username:"secretary1",password:"123456",role:"课题组秘书"},{username:"admin",password:"123456",role:"系统管理员"}],h=l=>{s.username=l.username,s.password=l.password},u=async()=>{if(m.value)try{if(!await m.value.validate())return;d.value=!0;const e=await y.login(s);e.success?(p.success("登录成功"),s.remember?(localStorage.setItem("savedUsername",s.username),localStorage.setItem("savedPassword",s.password)):(localStorage.removeItem("savedUsername"),localStorage.removeItem("savedPassword")),b.push("/dashboard")):p.error(e.message||"登录失败")}catch{p.error("登录失败，请稍后重试")}finally{d.value=!1}},S=()=>{const l=localStorage.getItem("savedUsername"),e=localStorage.getItem("savedPassword");l&&e&&(s.username=l,s.password=e,s.remember=!0)};return A(()=>{S()}),(l,e)=>{const g=T,i=D,x=j,E=$,I=G,U=N,F=q,L=H;return f(),_("div",J,[e[8]||(e[8]=B('<div class="bg-decoration" data-v-a85dc960><div class="bg-shapes" data-v-a85dc960><div class="shape shape-1" data-v-a85dc960></div><div class="shape shape-2" data-v-a85dc960></div><div class="shape shape-3" data-v-a85dc960></div></div></div>',1)),r("div",O,[e[6]||(e[6]=r("div",{class:"login-header"},[r("div",{class:"logo"},"📊"),r("h1",{class:"system-title"},"科研论文数据管理平台"),r("p",{class:"system-subtitle"},"Research Paper Management System")],-1)),a(U,{ref_key:"loginFormRef",ref:m,model:s,rules:k,class:"login-form",size:"large"},{default:t(()=>[a(i,{prop:"username"},{default:t(()=>[a(g,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),placeholder:"请输入用户名","prefix-icon":"User",clearable:"",onKeyup:w(u,["enter"])},null,8,["modelValue"])]),_:1}),a(i,{prop:"password"},{default:t(()=>[a(g,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=o=>s.password=o),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",onKeyup:w(u,["enter"])},null,8,["modelValue"])]),_:1}),a(i,null,{default:t(()=>[r("div",Q,[a(x,{modelValue:s.remember,"onUpdate:modelValue":e[2]||(e[2]=o=>s.remember=o)},{default:t(()=>[...e[3]||(e[3]=[n("记住密码",-1)])]),_:1},8,["modelValue"]),a(E,{type:"primary",underline:!1},{default:t(()=>[...e[4]||(e[4]=[n("忘记密码？",-1)])]),_:1})])]),_:1}),a(i,null,{default:t(()=>[a(I,{type:"primary",size:"large",class:"login-button",loading:d.value,onClick:u},{default:t(()=>[n(c(d.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),r("div",W,[a(F,null,{default:t(()=>[...e[5]||(e[5]=[n("演示账号",-1)])]),_:1}),r("div",X,[(f(),_(K,null,M(V,o=>a(L,{key:o.username,class:"account-tag",onClick:ee=>h(o)},{default:t(()=>[n(c(o.username)+" - "+c(o.role),1)]),_:2},1032,["onClick"])),64))])]),e[7]||(e[7]=r("div",{class:"login-footer"},[r("p",null,"© 2024 科研论文数据管理平台. All rights reserved.")],-1))])])}}},ne=C(Y,[["__scopeId","data-v-a85dc960"]]);export{ne as default};
